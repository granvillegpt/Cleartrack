<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Firebase Email Body Not Editable - Fix Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #e5f3f7;
      padding: 2rem;
      line-height: 1.6;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    
    h1 {
      color: #0b7285;
      margin-bottom: 1rem;
    }
    
    .section {
      background: #ffffff;
      border-radius: 16px;
      box-shadow: 0 4px 16px rgba(15, 23, 42, 0.12);
      padding: 2rem;
      margin-bottom: 2rem;
    }
    
    .section-title {
      font-size: 1.3rem;
      color: #0b7285;
      margin-bottom: 1rem;
      font-weight: 600;
      border-bottom: 2px solid #0b7285;
      padding-bottom: 0.5rem;
    }
    
    .warning-box {
      background: #fee2e2;
      border-left: 4px solid #ef4444;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
    
    .info-box {
      background: #dbeafe;
      border-left: 4px solid #3b82f6;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
    
    .success-box {
      background: #d1fae5;
      border-left: 4px solid #10b981;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
    
    .note {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
    
    ol, ul {
      padding-left: 1.5rem;
    }
    
    li {
      margin: 0.75rem 0;
    }
    
    code {
      background: #f3f4f6;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Firebase Email Body Not Editable - Solutions</h1>
    <p style="color: #6b7785; margin-bottom: 2rem;">If you can't edit the email body in Firebase, here are the most common causes and solutions:</p>
    
    <!-- Issue 1: Custom Domain Applied -->
    <div class="section">
      <div class="section-title">Issue 1: Custom Domain Restrictions</div>
      <p>After applying a custom domain, Firebase sometimes restricts editing email templates. This is a known limitation.</p>
      
      <div class="warning-box">
        <strong>⚠️ Problem:</strong> When you use Firebase's custom domain feature, the email body field may become read-only or disabled.
      </div>
      
      <p><strong>Solution Options:</strong></p>
      <ol>
        <li><strong>Try refreshing the page</strong> - Sometimes it's just a UI glitch</li>
        <li><strong>Check if there's a toggle or setting</strong> - Look for "Use custom template" or "Edit template" button</li>
        <li><strong>Use Custom SMTP instead</strong> - This gives you full control (see Solution 2 below)</li>
      </ol>
    </div>
    
    <!-- Issue 2: Browser/Cache Issue -->
    <div class="section">
      <div class="section-title">Issue 2: Browser or Cache Issue</div>
      <p>Sometimes the field appears disabled but it's actually a browser issue.</p>
      
      <p><strong>Try these steps:</strong></p>
      <ol>
        <li><strong>Hard refresh the page:</strong>
          <ul>
            <li>Windows/Linux: <code>Ctrl + Shift + R</code> or <code>Ctrl + F5</code></li>
            <li>Mac: <code>Cmd + Shift + R</code></li>
          </ul>
        </li>
        <li><strong>Clear browser cache</strong> for Firebase Console</li>
        <li><strong>Try a different browser</strong> (Chrome, Firefox, Safari)</li>
        <li><strong>Disable browser extensions</strong> temporarily (ad blockers, etc.)</li>
        <li><strong>Try incognito/private mode</strong></li>
      </ol>
    </div>
    
    <!-- Issue 3: Permission Issue -->
    <div class="section">
      <div class="section-title">Issue 3: Permission or Role Issue</div>
      <p>Your Firebase account might not have the right permissions to edit templates.</p>
      
      <p><strong>Check:</strong></p>
      <ol>
        <li>Make sure you're logged in as the <strong>project owner</strong> or have <strong>Editor</strong> role</li>
        <li>Check Firebase Console → Project Settings → Users and permissions</li>
        <li>If you're not the owner, ask the project owner to grant you Editor permissions</li>
      </ol>
    </div>
    
    <!-- Issue 4: Use Custom SMTP -->
    <div class="section">
      <div class="section-title">Solution: Use Custom SMTP Provider (Recommended)</div>
      <p>If Firebase's built-in email editing is restricted, using a custom SMTP provider gives you full control over email content.</p>
      
      <div class="info-box">
        <strong>Benefits of Custom SMTP:</strong>
        <ul style="margin-top: 0.5rem;">
          <li>Full control over email body and formatting</li>
          <li>Better deliverability</li>
          <li>More customization options</li>
          <li>Works with custom domains</li>
        </ul>
      </div>
      
      <p><strong>How to Set Up Custom SMTP:</strong></p>
      <ol>
        <li>Go to <strong>Authentication → Templates → SMTP settings</strong></li>
        <li>Click <strong>"Use custom SMTP server"</strong></li>
        <li>Choose an SMTP provider:
          <ul>
            <li><strong>SendGrid</strong> (Free: 100 emails/day)</li>
            <li><strong>Mailgun</strong> (Free: 5,000 emails/month)</li>
            <li><strong>AWS SES</strong> (Pay-as-you-go)</li>
            <li><strong>Postmark</strong> (Paid, great deliverability)</li>
          </ul>
        </li>
        <li>Get SMTP credentials from your provider</li>
        <li>Enter them in Firebase SMTP settings</li>
        <li>Now you can fully customize email templates</li>
      </ol>
      
      <div class="note">
        <strong>Note:</strong> With custom SMTP, you'll need to configure email templates in your SMTP provider's dashboard, not in Firebase. However, Firebase will still handle the authentication flow and trigger the emails.
      </div>
    </div>
    
    <!-- Issue 5: Firebase UI Bug -->
    <div class="section">
      <div class="section-title">Issue 4: Firebase UI Bug or Update</div>
      <p>Sometimes Firebase Console has temporary bugs or UI changes.</p>
      
      <p><strong>Try:</strong></p>
      <ol>
        <li><strong>Wait a few hours</strong> - Firebase may be updating their system</li>
        <li><strong>Check Firebase Status</strong> - Visit <a href="https://status.firebase.google.com" target="_blank" style="color: #0b7285;">status.firebase.google.com</a></li>
        <li><strong>Contact Firebase Support</strong> - If it persists, report the issue</li>
        <li><strong>Check Firebase Documentation</strong> - They may have changed how templates work</li>
      </ol>
    </div>
    
    <!-- Quick Fixes -->
    <div class="section">
      <div class="section-title">Quick Fixes to Try Right Now</div>
      <ol>
        <li><strong>Click directly in the Message field</strong> - Sometimes you need to click inside the text area</li>
        <li><strong>Look for an "Edit" or "Customize" button</strong> above or near the Message field</li>
        <li><strong>Check if there's a toggle</strong> that says "Use default template" - turn it off</li>
        <li><strong>Try editing from a different template</strong> (like Password reset) to see if it's template-specific</li>
        <li><strong>Check the browser console</strong> (F12) for any JavaScript errors</li>
      </ol>
    </div>
    
    <!-- Alternative: Keep Custom Domain, Accept Limitations -->
    <div class="section">
      <div class="section-title">Alternative: Keep Current Setup</div>
      <p>If you can't edit the email body but the custom domain is working, you might need to accept this limitation for now.</p>
      
      <div class="success-box">
        <strong>What you CAN still customize:</strong>
        <ul style="margin-top: 0.5rem;">
          <li>✅ Subject line</li>
          <li>✅ Sender name</li>
          <li>✅ Reply-to address</li>
          <li>✅ Action URL (where links point to)</li>
        </ul>
      </div>
      
      <p>The email body will use Firebase's default template, but at least emails will come from your custom domain (<code>noreply@cleartrack.co.za</code>), which is still a big improvement!</p>
    </div>
    
    <!-- Recommendation -->
    <div class="section">
      <div class="section-title">My Recommendation</div>
      <p>If you absolutely need to customize the email body:</p>
      <ol>
        <li><strong>First:</strong> Try all the quick fixes above</li>
        <li><strong>If that doesn't work:</strong> Set up a custom SMTP provider (SendGrid or Mailgun are easiest)</li>
        <li><strong>Alternative:</strong> Accept the default email body but keep your custom domain - it's still professional</li>
      </ol>
      
      <div class="note">
        <strong>Most Common Solution:</strong> This is usually a Firebase limitation when using custom domains. Using a custom SMTP provider is the best long-term solution if you need full email customization.
      </div>
    </div>
    
  </div>
</body>
</html>


